# =============================================================================
# STORAGE CLASSES AND PERSISTENT VOLUME CLAIMS
# =============================================================================
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: dentalhelp-storage
provisioner: kubernetes.io/no-provisioner  # Change for cloud provider
volumeBindingMode: WaitForFirstConsumer
reclaimPolicy: Retain

---
# MySQL PVCs (one per database)
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-auth-pvc
  namespace: dentalhelp
spec:
  accessModes: [ReadWriteOnce]
  resources:
    requests:
      storage: 5Gi

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-patient-pvc
  namespace: dentalhelp
spec:
  accessModes: [ReadWriteOnce]
  resources:
    requests:
      storage: 5Gi

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-appointment-pvc
  namespace: dentalhelp
spec:
  accessModes: [ReadWriteOnce]
  resources:
    requests:
      storage: 5Gi

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-dental-records-pvc
  namespace: dentalhelp
spec:
  accessModes: [ReadWriteOnce]
  resources:
    requests:
      storage: 10Gi

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-xray-pvc
  namespace: dentalhelp
spec:
  accessModes: [ReadWriteOnce]
  resources:
    requests:
      storage: 10Gi

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-treatment-pvc
  namespace: dentalhelp
spec:
  accessModes: [ReadWriteOnce]
  resources:
    requests:
      storage: 5Gi

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-notification-pvc
  namespace: dentalhelp
spec:
  accessModes: [ReadWriteOnce]
  resources:
    requests:
      storage: 2Gi

---
# RabbitMQ PVC
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: rabbitmq-pvc
  namespace: dentalhelp
spec:
  accessModes: [ReadWriteOnce]
  resources:
    requests:
      storage: 2Gi

---
# Redis PVC
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: redis-pvc
  namespace: dentalhelp
spec:
  accessModes: [ReadWriteOnce]
  resources:
    requests:
      storage: 1Gi
